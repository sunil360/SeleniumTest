package com.phptravels.TestScripts;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertFalse;

import java.util.concurrent.TimeUnit;

import org.testng.annotations.Test;

import com.edesix.pagehelper.HeaderHelper;
import com.edesix.pagehelper.LoginHelper;
import com.edesix.util.DriverTestCase;
import com.edesix.util.PropertyReader;

import org.testng.*;
import org.testng.asserts.*;
import org.testng.annotations.*;
import static org.junit.Assert.*;



public class UserLogin extends DriverTestCase{

	@Test
	public void testLogin() throws InterruptedException{
		
		//object initialization		
		PropertyReader propertyReader = new PropertyReader();		
		LoginHelper loginHelper = new LoginHelper(getWebDriver());
		HeaderHelper headerHelper = new HeaderHelper(getWebDriver());
				
		//Log into the application with valid credential
		
		String username =  propertyReader.readApplicationFile("APTestUser1");	
		String password =  propertyReader.readApplicationFile("APPassword1");	
		loginHelper.enterUserName(username);
		loginHelper.enterPossword(password);
		loginHelper.clickOnSignIn();
		System.out.println("Logged in successfully");
		
		
		//Verify that user logged into application successfully
		boolean result= headerHelper.isLogoutDropDownDisplayed();
		assertTrue("Logout button should be shown after login into application", result);
		
			
		//log out from the application 
		headerHelper.clickLogOutDropDownIcon();
		headerHelper.clickLogOut();	
		
	}
	
}
